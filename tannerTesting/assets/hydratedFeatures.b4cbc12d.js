import{t as Z,ck as w,kL as z,kM as R,jR as g,aQ as b,c$ as v,b5 as u}from"./index.3255d2a5.js";function $(n){return"declaredClass"in n}function o(n){return"declaredClass"in n}function W(n){return"declaredClass"in n}function J(n,a){return n?W(n)?n:new v({layer:a,sourceLayer:a,visible:n.visible,symbol:u(n.symbol),attributes:u(n.attributes),geometry:C(n.geometry)}):null}function C(n){return Z(n)?null:$(n)?n:w(L(n))}function L(n){const{wkid:a,wkt:t,latestWkid:c}=n.spatialReference,e={wkid:a,wkt:t,latestWkid:c};switch(n.type){case"point":{const{x:s,y:r,z:i,m:l}=n;return{x:s,y:r,z:i,m:l,spatialReference:e}}case"polygon":{const{rings:s,hasZ:r,hasM:i}=n;return{rings:m(s),hasZ:r,hasM:i,spatialReference:e}}case"polyline":{const{paths:s,hasZ:r,hasM:i}=n;return{paths:m(s),hasZ:r,hasM:i,spatialReference:e}}case"extent":{const{xmin:s,xmax:r,ymin:i,ymax:l,zmin:p,zmax:y,mmin:x,mmax:d,hasZ:k,hasM:M}=n;return{xmin:s,xmax:r,ymin:i,ymax:l,zmin:p,zmax:y,mmin:x,mmax:d,hasZ:k,hasM:M,spatialReference:e}}case"multipoint":{const{points:s,hasZ:r,hasM:i}=n;return{points:h(s)?f(s):s,hasZ:r,hasM:i,spatialReference:e}}default:return}}function m(n){return j(n)?n.map(a=>f(a)):n}function f(n){return n.map(a=>Array.from(a))}function j(n){for(const a of n)if(a.length!==0)return h(a);return!1}function h(n){return n.length>0&&(z(n[0])||R(n[0]))}function N(n,a){if(!n)return null;let t;if(o(n)){if(a==null)return n.clone();if(o(a))return a.copy(n)}return a!=null?(t=a,t.x=n.x,t.y=n.y,t.spatialReference=n.spatialReference,n.hasZ?(t.z=n.z,t.hasZ=n.hasZ):(t.z=void 0,t.hasZ=!1),n.hasM?(t.m=n.m,t.hasM=!0):(t.m=void 0,t.hasM=!1)):(t=g(n.x,n.y,n.z,n.spatialReference),n.hasM&&(t.m=n.m,t.hasM=!0)),t}function O(n){const{wkid:a,wkt:t,latestWkid:c}=n,e={wkid:a,wkt:t,latestWkid:c};return b.fromJSON(e)}export{N as M,C as f,O as k,$ as m,J as u};
