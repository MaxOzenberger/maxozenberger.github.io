import{W as s,s as p,a5 as r,a6 as a,a7 as m}from"./index.3255d2a5.js";import{a as h}from"./BitmapContainer.840dd63e.js";import{f as n}from"./LayerView2D.faad288b.js";import{v as d}from"./ExportStrategy.94652a2d.js";import{u as c}from"./LayerView.cc5af741.js";import{i as u}from"./RefreshableLayerView.d7e6fba9.js";import"./WGLContainer.53e4a52c.js";import"./definitions.1d569ae6.js";import"./VertexArrayObject.ad007c8f.js";import"./Texture.d66dc1cb.js";import"./enums.3c1fa5b5.js";import"./VertexElementDescriptor.5da9dfe9.js";import"./vec4f32.c3d64d30.js";import"./color.18cd4954.js";import"./enums.9a5c29c3.js";import"./number.dcd3e86c.js";import"./ProgramTemplate.058b26d9.js";import"./MaterialKey.3d16bafa.js";import"./alignmentUtils.ba8835fe.js";import"./utils.e5643e7e.js";import"./StyleDefinition.dc47b5d4.js";import"./config.86ceb802.js";import"./GeometryUtils.ccd3b111.js";import"./Container.f0dd2697.js";import"./EffectView.ab0cb7da.js";import"./earcut.a219bf29.js";import"./Bitmap.a6f40812.js";let t=class extends u(n(c)){update(e){this._strategy.update(e).catch(i=>{s(i)||p.getLogger(this.declaredClass).error(i)}),this.notifyChange("updating")}attach(){this._bitmapContainer=new h,this.container.addChild(this._bitmapContainer),this._strategy=new d({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(e,i,o){return this.layer.fetchImageBitmap(e,i,o)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};r([a()],t.prototype,"_strategy",void 0),r([a()],t.prototype,"updating",void 0),t=r([m("esri.views.2d.layers.BaseDynamicLayerView2D")],t);const G=t;export{G as default};
